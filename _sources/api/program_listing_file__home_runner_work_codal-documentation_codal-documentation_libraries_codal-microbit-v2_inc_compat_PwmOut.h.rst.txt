
.. _program_listing_file__home_runner_work_codal-documentation_codal-documentation_libraries_codal-microbit-v2_inc_compat_PwmOut.h:

Program Listing for File PwmOut.h
=================================

|exhale_lsh| :ref:`Return to documentation for file <file__home_runner_work_codal-documentation_codal-documentation_libraries_codal-microbit-v2_inc_compat_PwmOut.h>` (``/home/runner/work/codal-documentation/codal-documentation/libraries/codal-microbit-v2/inc/compat/PwmOut.h``)

.. |exhale_lsh| unicode:: U+021B0 .. UPWARDS ARROW WITH TIP LEFTWARDS

.. code-block:: cpp

   #ifndef PwmOut_h
   #define PwmOut_h
   
   #include "MicroBitCompat.h"
   #include "MicroBitIO.h"
   #include "NRF52Pin.h"
   
   class PwmOut {
   
       private: 
           NRF52Pin p;
   
       public:
           PwmOut(PinName pin) : p(MICROBIT_ID_MBED_PWM, pin, PIN_CAPABILITY_ANALOG) {
               return;
           }
   
           void write(float width) {
               p.setAnalogValue(width * 1024.0);
           }
   
           void period_us(float period) {
               p.setAnalogPeriod(period);
           }
   };
   
   #warning "Use of mbed with CODAL is not recommended! These classes will not always behave as expected and are provided to attempt to support existing extensions. Please write your extension using CODAL."
   
   #endif
